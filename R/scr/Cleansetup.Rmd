---
title: "Importeren en opschonen van Q-TFA dataset"
output:
  html_document:
    toc: true
---

#Inlezen van data, caution read_csv2 is used for european style delimiter;

```{r}
library(tidyverse)
library(readr)


QTFA_NL <- read_csv2("../data/raw/Osseointegration_NIEUW_QTFA_NL_V2_export_20260107.csv",
                      locale = locale(decimal_mark = ".", grouping_mark = ""))
QTFA_UK <- read_csv2("../data/raw/Osseointegration_NIEUW_QTFA_UK_V2_export_20260107.csv",
                      locale = locale(decimal_mark = ".", grouping_mark = ""))
Character <- read_csv2("../data/raw/Osseointegration_NIEUW_Functional_assessments_export_20260107.csv",
                        locale = locale(decimal_mark = ".", grouping_mark = ""))
```



```{r}
# Examine the data structure
library(tidyverse)

# Check dimensions
cat("QTFA_NL dimensions:", dim(QTFA_NL), "\n")
cat("QTFA_UK dimensions:", dim(QTFA_UK), "\n") 
cat("Character dimensions:", dim(Character), "\n")

# 2. View the first few rows
head(QTFA_NL)
head(QTFA_UK)
head(Character)

# 3. Check column names
names(QTFA_NL)[1:10]
names(QTFA_UK)[1:10]
names(Character)[1:10]

# 4. Check data types
glimpse(QTFA_NL)
glimpse(QTFA_UK)
glimpse(Character)
```

```{r}
# Check what parsing issues occurred
problems_df <- problems(Character)
print(problems_df)

# Typically these are minor - you can either:
# 1. Ignore if they're in columns you won't use
# 2. Fix by specifying column types

# Option: Re-read with specific column types for problematic columns
# First check the problematic columns
if (nrow(problems_df) > 0) {
  cat("Problematic columns:\n")
  print(unique(problems_df$col))
}
```

```{r}
library(lintr)
lint(filename = "../scripts/cleansetup.Rmd")
```